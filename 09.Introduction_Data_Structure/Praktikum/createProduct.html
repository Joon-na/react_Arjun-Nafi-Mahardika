<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Product</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <!-- Add SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Add SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- Header Section -->
    <header class="bg-white shadow">
        <div class="container mx-auto px-6 py-4">
            <!-- Menggunakan Tailwind Grid untuk Navbar -->
            <div class="grid grid-cols-2 items-center">
                <div>
                    <div class="font-[Roboto] text-[24px] not-italic font-medium leading-[normal] tracking-[-0.32px]">
                        Simple header
                    </div>
                </div>

                <nav class="flex justify-end items-center gap-[8px]">
                    <a href="#"
                        class="text-[#0D6EFD] px-[16px] py-[12px] rounded-[4px] hover:bg-[#0D6EFD] hover:text-white">Home</a>
                    <a href="#"
                        class="text-[#0D6EFD] px-[16px] py-[12px] rounded-[4px] hover:bg-[#0D6EFD] hover:text-white">Features</a>
                    <a href="#"
                        class="text-[#0D6EFD] px-[16px] py-[12px] rounded-[4px] hover:bg-[#0D6EFD] hover:text-white">Pricing</a>
                    <a href="#"
                        class="text-[#0D6EFD] px-[16px] py-[12px] rounded-[4px] hover:bg-[#0D6EFD] hover:text-white">FAQs</a>
                    <a href="#"
                        class="text-[#0D6EFD] px-[16px] py-[12px] rounded-[4px] hover:bg-[#0D6EFD] hover:text-white">About</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Section -->
    <main class="container mx-auto px-6 py-8 md:max-w-[936px]">
        <div>
            <div class="icon flex justify-center mt-[48px]">
                <img src="bootstrap-logo.svg" alt="bootstrap-logo">
            </div>
            <h1
                class="mt-[23px] text-[#212529] text-center font-[Roboto] text-[31px] not-italic font-medium leading-[38.4px]">
                Create Product</h1>
            <p
                class="mt-[8.39px] mb-4 text-[#212529] text-center font-[Roboto] text-[20px] not-italic font-light leading-[30px]">
                Below is an example form built entirely with Bootstrap's form controls. Each required form group has a
                validation state that can be triggered by attempting to submit the form without completing </p>
        </div>


        <form id="productForm" class="px-[140px] mt-12">
            <h1 class="items-start font-[Roboto] text-[23px] not-italic font-medium leading-[28.8px] mb-4">Detail
                Product</h1>
            <!-- Product Name -->
            <div>
                <div class="mb-[9.5px]"><label class="mb-4" for="product-name">Product name :</label><br></div>
                <input type="text" id="product-name" name="product-name"
                    class="rounded-[4px] border-[1px] border-[solid] border-[#CED4DA] bg-[#FFF]" minlength="6"
                    maxlength="50" required><br><br>
            </div>
            <!-- Product Category -->
            <div class="mb-[9.5px]"><label for="product-category">Product Category :</label><br></div>
            <select class="rounded-[4px] border-[1px] border-[solid] border-[#CED4DA] bg-[#FFF]" id="product-category"
                name="product-category" required>
                <option value=""></option>
                <option value="Cat1">First Category</option>
                <option value="Cat2">Second Category</option>
            </select><br><br>

            <!-- Image of Product -->
            <div class="mb-[11.69px]">
                <label for="product-image">Image of Product</label><br>
                <input type="file" id="product-image" name="product-image"
                    class="rounded-[4px] border-[1px] border-[#CED4DA] bg-[#FFF]" required>
            </div>

            <!-- Product Freshness -->
            <div class="mt-[35px] mb-[5.5px]">
                <label>Product Freshness :</label><br>
                <input type="radio" id="brand-new" name="product-freshness" value="Brand New" required>
                <label for="brand-new">Brand New</label><br>
                <input type="radio" id="second-hand" name="product-freshness" value="Second Hand">
                <label for="second-hand">Second Hand</label><br>
                <input type="radio" id="refurbished" name="product-freshness" value="Refurbished">
                <label for="refurbished">Refurbished</label><br>
            </div>


            <!-- Additional Description -->
            <div class="mb-[10.69px]"><label for="additional-description">Additional Description</label></div>
            <textarea
                class="rounded-[4px] border-[1px] border-[solid] border-[#CED4DA] bg-[#FFF] w-[603px] h-[116px] pl-[12px] pr-[12px] py-[5px] items-start"
                id="additional-description" name="additional-description" rows="4" cols="30"
                required></textarea><br><br>

            <!-- Product Price -->
            <div>
                <label for="product-price">Product price :</label><br>
                <label>$</label>
                <input type="number" id="product-price" name="product-price"
                    class="rounded-[4px] border-[1px] border-[#CED4DA] bg-[#FFF]" min="0" required>
            </div>
            <div class="flex justify-center mt-4">
                <button type="submit"
                    class="rounded-[4px] border-[1px] text-[#FFF] border-[#0D6EFD] bg-[#0D6EFD] pl-[209.592px] pr-[209.408px] py-[9px]">Submit</button>
            </div>
        </form>

        <!-- Product List Table -->
        <div class="mt-12">
            <h2 class="text-[24px] font-[Roboto] font-medium">List Product</h2>
            <div class="flex gap-2 mb-4">
                <input type="text" id="searchInput" class="border rounded px-4 py-2"
                    placeholder="Search by Product Name">
                <button id="searchButton" class="bg-blue-500 text-white px-4 py-2 rounded">Search</button>
                <button id="deleteButton" class="bg-red-500 text-white px-4 py-2 rounded">Deletion</button>

            </div>
            <table class="table-auto w-full border-collapse border border-gray-300">
                <thead>
                    <tr>
                        <th class="border border-gray-300 px-4 py-2">No</th>
                        <th class="border border-gray-300 px-4 py-2">Product Name</th>
                        <th class="border border-gray-300 px-4 py-2">Product Category</th>
                        <th class="border border-gray-300 px-4 py-2">Image of Product</th>
                        <th class="border border-gray-300 px-4 py-2">Product Freshness</th>
                        <th class="border border-gray-300 px-4 py-2">Additional Description</th>
                        <th class="border border-gray-300 px-4 py-2">Product Price</th>
                    </tr>
                </thead>
                <tbody id="productTableBody">
                    
                </tbody>
            </table>
        </div>
    </main>

    <script>
        const productForm = document.getElementById('productForm');
        const productTableBody = document.getElementById('productTableBody');
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const deleteButton = document.getElementById('deleteButton');

        let products = [];

        productForm.addEventListener('submit', function (event) {
            event.preventDefault();

            // menangkap data form
            const productName = document.getElementById('product-name').value;
            const productCategory = document.getElementById('product-category').value;
            const productImage = document.getElementById('product-image').value;
            const productFreshness = document.querySelector('input[name="product-freshness"]:checked').value;
            const additionalDescription = document.getElementById('additional-description').value;
            const productPrice = document.getElementById('product-price').value;

            // menambahkan produk baru
            products.push({
                productName,
                productCategory,
                productImage,
                productFreshness,
                additionalDescription,
                productPrice
            });

            // Refresh tabel produk
            refreshProductTable();

            // menampilkan pesan sukses
            Swal.fire({
                title: 'Success!',
                text: 'Product added successfully!',
                icon: 'success',
                confirmButtonText: 'OK'
            });

            // Reset form
            productForm.reset();
        });

        // Search product dan menampilkan alert berhasil
        searchButton.addEventListener('click', function () {
            const searchValue = searchInput.value.toLowerCase();
            const product = products.find(product => product.productName.toLowerCase().includes(searchValue));

            if (product) {
                Swal.fire({
                    title: 'Product Found!',
                    html: `
                        <p><strong>Product Name:</strong> ${product.productName}</p>
                        <p><strong>Category:</strong> ${product.productCategory}</p>
                        <p><strong>Image:</strong> ${product.productImage}</p>
                        <p><strong>Freshness:</strong> ${product.productFreshness}</p>
                        <p><strong>Description:</strong> ${product.additionalDescription}</p>
                        <p><strong>Price:</strong> ${product.productPrice}</p>
                    `,
                    icon: 'info',
                    confirmButtonText: 'OK'
                });
            } else {
                Swal.fire({
                    title: 'Product Not Found',
                    text: 'No product matches your search.',
                    icon: 'warning',
                    confirmButtonText: 'OK'
                });
            }
        });

        // delete produk terakhir
        deleteButton.addEventListener('click', function () {
            if (products.length > 0) {
                products.pop();
                refreshProductTable();

                Swal.fire({
                    title: 'Deleted!',
                    text: 'Last product has been deleted!',
                    icon: 'success',
                    confirmButtonText: 'OK'
                });
            } else {
                Swal.fire({
                    title: 'No Product Found',
                    text: 'There are no products to delete.',
                    icon: 'warning',
                    confirmButtonText: 'OK'
                });
            }
        });

        function refreshProductTable() {
            productTableBody.innerHTML = '';

            products.forEach((product, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="border border-gray-300 px-4 py-2">${index + 1}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.productName}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.productCategory}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.productImage}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.productFreshness}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.additionalDescription}</td>
                    <td class="border border-gray-300 px-4 py-2">${product.productPrice}</td>
                `;
                productTableBody.appendChild(row);
            });
        }
    </script>

</body>

</html>